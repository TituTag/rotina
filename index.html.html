<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard de Rotina</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="icon" href="https://cdn.discordapp.com/attachments/1379885379494084702/1392586098798104606/aa.png?ex=6870125e&is=686ec0de&hm=53bab00badae7e5b75781ba2625edc611095f0c665c3d2c64a3d3752fda06ad8&" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #0a0a0a;
            color: #e2e8f0;
        }
        body::before {
            content: ''; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle at 10% 20%, rgba(29, 78, 216, 0.2), transparent 40%),
                        radial-gradient(circle at 90% 80%, rgba(34, 197, 94, 0.2), transparent 40%);
            z-index: -1; pointer-events: none; animation: pulse-gradient 15s ease-in-out infinite;
        }
        @keyframes pulse-gradient { 0% { opacity: 0.8; } 50% { opacity: 1; } 100% { opacity: 0.8; } }
        .day-planner-nav {
            display: flex; justify-content: center; gap: 0.5rem;
            margin-bottom: 1.5rem; flex-wrap: wrap;
        }
        .day-tab {
            padding: 0.75rem 1.5rem; border-radius: 9999px;
            font-weight: 600; color: #94a3b8; background-color: rgba(30, 41, 59, 0.5);
            border: 1px solid #334155; cursor: pointer;
            transition: all 0.3s ease;
            display: flex; align-items: center; gap: 0.5rem;
        }
        .day-tab:hover { background-color: rgba(59, 130, 246, 0.2); color: #e2e8f0; }
        .day-tab.active {
            background: linear-gradient(45deg, #3b82f6, #22c55e);
            color: #fff; border-color: transparent;
            box-shadow: 0 0 15px rgba(59, 130, 246, 0.4);
        }
        .report-icon { font-size: 1rem; opacity: 0.7; transition: opacity 0.2s; }
        .report-icon:hover { opacity: 1; }

        #progress-section { margin-bottom: 3rem; max-width: 1000px; margin-left: auto; margin-right: auto; padding: 0 1rem; }
        #progress-container {
            width: 100%; background-color: #1e293b; border-radius: 9999px;
            height: 1.25rem; overflow: hidden; border: 1px solid #334155;
        }
        #progress-bar {
            width: 0%; height: 100%;
            background: linear-gradient(90deg, #3b82f6, #22c55e);
            transition: width 0.5s ease-in-out;
            display: flex; align-items: center; justify-content: center;
        }
        #progress-text { font-weight: 600; font-size: 0.75rem; color: #fff; text-shadow: 1px 1px 2px rgba(0,0,0,0.5); }
        
        .timeline-container { position: relative; max-width: 1000px; margin: 0 auto; transition: opacity 0.4s ease-in-out; }
        .timeline-container.loading { opacity: 0.5; }
        .timeline-container::after {
            content: ''; position: absolute; width: 4px; background-color: #1e293b;
            top: 0; bottom: 0; left: 50%; margin-left: -2px; border-radius: 2px;
        }
        .timeline-item { padding: 10px 40px; position: relative; width: 50%; }
        .timeline-item.left { left: 0; }
        .timeline-item.right { left: 50%; }
        .timeline-item::after {
            content: ''; position: absolute; width: 24px; height: 24px; right: -12px;
            background-color: #0a0a0a; border: 4px solid #3b82f6; top: 32px;
            border-radius: 50%; z-index: 1; transition: border-color 0.4s ease;
        }
        .timeline-item.right::after { left: -12px; }
        .timeline-content {
            background-color: rgba(30, 41, 59, 0.6); backdrop-filter: blur(12px);
            border-radius: 0.75rem; border: 1px solid #334155;
            transition: border-color 0.4s ease, box-shadow 0.4s ease;
        }
        .timeline-content.active { border-color: #3b82f6; box-shadow: 0 0 20px rgba(59, 130, 246, 0.2); }
        .accordion-header {
            padding: 1.5rem 2rem; cursor: pointer; display: flex; justify-content: space-between;
            align-items: center; transition: background-color 0.3s;
        }
        .accordion-header:hover { background-color: rgba(59, 130, 246, 0.1); }
        .accordion-body {
            max-height: 0; overflow: hidden;
            transition: max-height 0.7s cubic-bezier(0.4, 0, 0.2, 1);
            padding: 0 2rem;
        }
        .chevron { transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1); color: #94a3b8; }
        .active .chevron { transform: rotate(90deg); color: #3b82f6; }
        .checklist-item { display: flex; align-items: center; gap: 0.75rem; padding: 0.5rem 0; }
        .checklist-item input[type="checkbox"] {
            appearance: none; width: 1.25rem; height: 1.25rem;
            border: 2px solid #475569; border-radius: 0.25rem;
            cursor: pointer; transition: all 0.2s ease; flex-shrink: 0;
        }
        .checklist-item input[type="checkbox"]:checked { background-color: #22c55e; border-color: #22c55e; }
        .checklist-item input[type="checkbox"]:checked + label { text-decoration: line-through; color: #64748b; }
        .checklist-item label { transition: all 0.2s ease; }
        
        #completion-button {
            padding: 1rem 2.5rem; font-size: 1.125rem; font-weight: 700;
            color: #fff; border-radius: 9999px;
            background: linear-gradient(45deg, #16a34a, #22c55e);
            border: none; cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 0 20px rgba(34, 197, 94, 0.4);
        }
        #completion-button:hover { transform: translateY(-3px) scale(1.05); box-shadow: 0 0 30px rgba(34, 197, 94, 0.6); }
        #completion-button:disabled { background: #334155; color: #64748b; cursor: not-allowed; box-shadow: none; transform: none; }

        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: rgba(0, 0, 0, 0.7); backdrop-filter: blur(5px);
            z-index: 50; display: flex; align-items: center; justify-content: center;
            opacity: 0; pointer-events: none; transition: opacity 0.3s ease;
        }
        .modal-overlay.visible { opacity: 1; pointer-events: auto; }
        .modal-content {
            background-color: #1e293b; color: #e2e8f0;
            padding: 2rem; border-radius: 1rem;
            width: 90%; max-width: 800px; max-height: 80vh;
            overflow-y: auto; position: relative;
            transform: scale(0.95); transition: transform 0.3s ease;
        }
        .modal-overlay.visible .modal-content { transform: scale(1); }
        .modal-close-button {
            position: absolute; top: 1rem; right: 1rem;
            background: none; border: none; color: #94a3b8;
            font-size: 1.5rem; cursor: pointer;
        }
        .report-item { display: flex; align-items: center; gap: 0.75rem; padding: 0.25rem 0; }
        .report-item i { font-size: 1.25rem; }
        .report-item .ph-check-circle { color: #22c55e; }
        .report-item .ph-x-circle { color: #ef4444; }
        
        #loader-overlay {
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 60;
        }
        .loader {
            border: 4px solid #334155;
            border-left-color: #3b82f6;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        .creator-card {
            background-color: rgba(30, 41, 59, 0.6);
            border-radius: 1rem;
            padding: 2rem 1.5rem;
            text-align: center;
            border: 1px solid #334155;
            transition: transform 0.3s, box-shadow 0.3s;
            height: 100%;
        }
        .creator-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }
        .creator-image-wrapper {
            position: relative;
            width: 120px;
            height: 120px;
            margin: 0 auto 1.5rem;
        }
        .creator-card img {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 4px solid #475569;
            transition: border-color 0.3s;
        }
        .creator-card:hover img {
            border-color: #3b82f6;
        }
        .highlighted-name {
            font-weight: 700;
            font-size: 1.25rem;
            background: linear-gradient(45deg, #22c55e, #3b82f6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .animated-border::before {
            content: '';
            position: absolute;
            top: -8px; left: -8px; right: -8px; bottom: -8px;
            border-radius: 50%;
            background: conic-gradient(from var(--angle), #3b82f6, #22c55e, #6ee7b7, #60a5fa, #3b82f6);
            animation: spin-border 8s linear infinite;
            z-index: -1;
            filter: blur(15px);
            opacity: 1;
        }
        @property --angle {
            syntax: '<angle>';
            initial-value: 0deg;
            inherits: false;
        }
        @keyframes spin-border {
            0% { --angle: 0deg; }
            100% { --angle: 360deg; }
        }
        
        #toast-notification {
            position: fixed;
            bottom: 1.5rem;
            right: 1.5rem;
            background-color: #1e293b;
            color: #e2e8f0;
            padding: 1rem 1.5rem;
            border-radius: 0.75rem;
            border-left: 4px solid #22c55e;
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -2px rgb(0 0 0 / 0.05);
            display: flex;
            align-items: center;
            gap: 1rem;
            transform: translateX(calc(100% + 1.5rem));
            transition: transform 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            z-index: 100;
        }
        #toast-notification.show {
            transform: translateX(0);
        }
        
        .calculator-card {
            background-color: rgba(15, 23, 42, 0.8);
            border: 1px solid #334155;
            border-radius: 1rem;
            padding: 1.5rem;
        }
        .calculator-input {
            background-color: #0f172a;
            border: 1px solid #475569;
            border-radius: 0.5rem;
            padding: 0.5rem 0.75rem;
            width: 100%;
        }
        .calculator-button {
            background-color: #3b82f6; color: #fff; font-weight: 600;
            padding: 0.5rem 1.5rem; border-radius: 0.5rem; width: 100%;
            transition: background-color 0.2s;
        }
        .calculator-button:hover { background-color: #2563eb; }
        .calculator-result {
            margin-top: 1rem; padding: 1rem; border-radius: 0.5rem;
            background-color: #0f172a; min-height: 80px;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }
        .tool-tab {
            padding: 0.5rem 1rem; border-bottom: 2px solid transparent;
            color: #94a3b8; cursor: pointer; transition: all 0.2s;
        }
        .tool-tab.active, .tool-tab:hover {
            color: #3b82f6; border-bottom-color: #3b82f6;
        }
        .tool-content { display: none; }
        .tool-content.active { display: block; }

        @media screen and (max-width: 768px) {
            .timeline-container::after { left: 31px; }
            .timeline-item { width: 100%; padding-left: 70px; padding-right: 15px; }
            .timeline-item.left, .timeline-item.right { left: 0%; }
            .timeline-item.left::after, .timeline-item.right::after { left: 19px; }
        }
    </style>
</head>
<body class="antialiased">

    <main id="planner" class="py-16 md:py-24 px-4">
        <h2 class="text-4xl md:text-5xl font-bold text-center mb-4">
            Dashboard de Rotina
        </h2>
        <p class="text-center text-slate-400 mb-4">Sua central de comando para uma vida com intenção.</p>
        
        <div class="flex justify-center gap-4 mb-12">
            <button id="weekly-report-button" class="text-blue-400 hover:text-blue-300 font-semibold">Ver Relatório da Semana</button>
            <button id="open-tools-button" class="text-green-400 hover:text-green-300 font-semibold">Ferramentas de Medição</button>
        </div>


        <h3 class="text-2xl font-bold text-center mb-4">Progresso da Semana</h3>
        <section id="progress-section">
            <div id="progress-container">
                <div id="progress-bar"><span id="progress-text">0%</span></div>
            </div>
        </section>

        <nav class="day-planner-nav mt-12">
            <button class="day-tab" data-day="sun"><span>Domingo</span></button>
            <button class="day-tab" data-day="mon"><span>Segunda</span></button>
            <button class="day-tab" data-day="tue"><span>Terça</span></button>
            <button class="day-tab" data-day="wed"><span>Quarta</span></button>
            <button class="day-tab" data-day="thu"><span>Quinta</span></button>
            <button class="day-tab" data-day="fri"><span>Sexta</span></button>
            <button class="day-tab" data-day="sat"><span>Sábado</span></button>
        </nav>

        <div id="timeline-container" class="timeline-container"></div>

        <div id="completion-section" class="text-center mt-12 flex flex-col items-center gap-4"></div>
    </main>

    <footer class="text-center py-16 border-t border-slate-800 bg-slate-900/50">
        <div id="creators-section" class="max-w-6xl mx-auto px-4">
            <div class="flex justify-center items-center gap-4 mb-12">
                <svg width="40" height="40" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="logoGradientFooter" x1="0%" y1="50%" x2="100%" y2="50%"><stop offset="0%" stop-color="#22c55e" /><stop offset="100%" stop-color="#3b82f6" /></linearGradient>
                         <mask id="brainMaskFooter"><path d="M 60 10 C 25 10, 10 40, 10 60 C 10 90, 40 110, 60 110 C 80 110, 110 90, 110 60 C 110 40, 95 10, 60 10 Z" fill="white"/></mask>
                    </defs>
                    <g mask="url(#brainMaskFooter)"><rect x="0" y="0" width="120" height="120" fill="url(#logoGradientFooter)" /><path d="M 60 10 V 110 M 50 20 H 30 V 40 H 50 M 40 50 H 20 V 70 H 40 M 50 80 H 30 V 100 H 50" stroke="#0a0a0a" stroke-width="3" fill="none" opacity="0.5"/><circle cx="85" cy="60" r="12" stroke="#0a0a0a" stroke-width="3" fill="none" opacity="0.6"/><rect x="70" y="58.5" width="30" height="3" fill="#0a0a0a" opacity="0.6"/><circle cx="85" cy="35" r="5" stroke="#0a0a0a" stroke-width="2" fill="none" opacity="0.4"/><circle cx="85" cy="85" r="5" stroke="#0a0a0a" stroke-width="2" fill="none" opacity="0.4"/></g>
                    <path d="M 60 10 C 25 10, 10 40, 10 60 C 10 90, 40 110, 60 110 C 80 110, 110 90, 110 60 C 110 40, 95 10, 60 10 Z" fill="none" stroke="white" stroke-width="2"/>
                </svg>
                <h3 class="text-3xl font-bold">A Equipe por Trás do Projeto</h3>
            </div>
            <div id="creators-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12">
            </div>
            <p class="text-slate-600 text-sm mt-2">© 2025 Todos os direitos reservados.</p>
        </div>
    </footer>

    <div id="modal-overlay" class="modal-overlay">
        <div id="modal-content" class="modal-content">
            <button id="modal-close-button" class="modal-close-button"><i class="ph-bold ph-x"></i></button>
            <div id="modal-body"></div>
        </div>
    </div>
    
    <div id="loader-overlay" class="modal-overlay hidden">
        <div class="text-center text-white">
            <div class="loader mx-auto"></div>
            <p class="mt-4 font-semibold">Coletando dados...</p>
        </div>
    </div>
    
    <div id="toast-notification">
        <i class="ph-fill ph-check-circle text-2xl text-green-400"></i>
        <p id="toast-message" class="font-semibold"></p>
    </div>

    <script>
    "use strict";

    const weeklyRoutine = {
        mon: {
            dayName: "Segunda-feira",
            blocks: [
                { time: "07:00 - 08:00", title: "Ritual Matinal", icon: "sun-horizon", quote: "Comece o dia com propósito.",
                  checklist: ["Acordar e arrumar a cama", "Higiene pessoal", "Café da manhã nutritivo"] },
                { time: "08:00 - 12:00", title: "Aulas (Manhã)", icon: "student", quote: "O conhecimento é o seu maior ativo.",
                  checklist: ["Foco total nas aulas", "Fazer anotações claras"] },
                { time: "12:00 - 14:00", title: "Almoço e Descanso", icon: "bowl-food", quote: "Cuide do seu corpo para cuidar da sua mente.",
                  checklist: ["Almoçar", "Ouvir música", "Meditar por 10 min"] },
                { time: "14:00 - 15:00", title: "Aulas (Tarde)", icon: "student", quote: "A repetição é a mãe da maestria.",
                  checklist: ["Participar ativamente", "Tirar todas as dúvidas"] },
                { time: "15:00 - 16:30", title: "Lanche e Atividade Física", icon: "barbell", quote: "Corpo em movimento, mente afiada.",
                  checklist: ["Lanche saudável", "Praticar Corrida ou Musculação"] },
                { time: "16:30 - 17:30", title: "Estudo Focado", icon: "books", quote: "Entenda o 'porquê', não apenas o 'o quê'.",
                  checklist: ["Fazer dever de casa", "Revisar matéria do dia"] },
                { time: "17:30 - 19:00", title: "Tempo Livre & Banho", icon: "game-controller", quote: "O equilíbrio é a chave para a consistência.",
                  checklist: ["Jogar/Hobby", "Tomar banho"] },
                { time: "19:00 - 20:00", title: "Jantar e Estudo Leve", icon: "book-open", quote: "Aprender é um processo contínuo.",
                  checklist: ["Jantar leve", "Leitura ou curso online"] },
                { time: "20:00 - 21:00", title: "Ritual Noturno", icon: "moon", quote: "Prepare-se para um amanhã vitorioso.",
                  checklist: ["Higiene noturna", "Relaxar com música/diário", "Dormir até as 21:00"] },
            ]
        },
        tue: {
            dayName: "Terça-feira",
            blocks: [
                { time: "07:00 - 08:00", title: "Ritual Matinal", icon: "sun-horizon", quote: "A consistência cria o hábito.",
                  checklist: ["Acordar e arrumar a cama", "Higiene pessoal", "Café da manhã nutritivo"] },
                { time: "08:00 - 12:00", title: "Aulas (Manhã)", icon: "student", quote: "Cada aula é um degrau para o seu futuro.",
                  checklist: ["Foco total nas aulas", "Fazer anotações claras"] },
                { time: "12:00 - 14:00", title: "Almoço e Descanso", icon: "bowl-food", quote: "Nutrição é combustível para o cérebro.",
                  checklist: ["Almoçar", "Ouvir música", "Meditar por 10 min"] },
                { time: "14:00 - 15:00", title: "Aulas (Tarde)", icon: "student", quote: "A curiosidade é a chama do aprendizado.",
                  checklist: ["Participar ativamente", "Tirar todas as dúvidas"] },
                { time: "15:00 - 16:30", title: "Lanche e Atividade Física", icon: "person-simple-walk", quote: "Mente sã, corpo são.",
                  checklist: ["Lanche saudável", "Praticar Ioga ou Alongamento"] },
                { time: "16:30 - 17:30", title: "Estudo Focado", icon: "books", quote: "Revisar é fortalecer a fundação.",
                  checklist: ["Revisar a matéria do dia anterior"] },
                { time: "17:30 - 19:00", title: "Tempo Livre & Banho", icon: "game-controller", quote: "O descanso também faz parte do plano.",
                  checklist: ["Jogar/Hobby", "Tomar banho"] },
                { time: "19:00 - 20:00", title: "Jantar e Estudo Leve", icon: "book-open", quote: "Expanda seus horizontes.",
                  checklist: ["Jantar leve", "Leitura ou curso online"] },
                { time: "20:00 - 21:00", title: "Ritual Noturno", icon: "moon", quote: "A noite recupera, o dia conquista.",
                  checklist: ["Higiene noturna", "Relaxar com música/diário", "Dormir até as 21:00"] },
            ]
        },
        wed: {
            dayName: "Quarta-feira",
            blocks: [
                { time: "07:00 - 08:00", title: "Ritual Matinal", icon: "sun-horizon", quote: "O meio da semana é para acelerar.",
                  checklist: ["Acordar e arrumar a cama", "Higiene pessoal", "Café da manhã nutritivo"] },
                { time: "08:00 - 12:00", title: "Aulas (Manhã)", icon: "student", quote: "Conecte os pontos do seu conhecimento.",
                  checklist: ["Foco total nas aulas", "Fazer anotações claras"] },
                { time: "12:00 - 14:00", title: "Almoço e Descanso", icon: "bowl-food", quote: "Pausa estratégica para máxima performance.",
                  checklist: ["Almoçar", "Ouvir música", "Meditar por 10 min"] },
                { time: "14:00 - 15:00", title: "Aulas (Tarde)", icon: "student", quote: "Desafie o que você já sabe.",
                  checklist: ["Participar ativamente", "Tirar todas as dúvidas"] },
                { time: "15:00 - 16:30", title: "Lanche e Atividade Física", icon: "soccer-ball", quote: "Libere endorfinas.",
                  checklist: ["Lanche saudável", "Praticar Esporte ou Dança"] },
                { time: "16:30 - 17:30", title: "Estudo Focado", icon: "books", quote: "A prática leva à perfeição.",
                  checklist: ["Fazer dever de casa", "Revisar matéria do dia"] },
                { time: "17:30 - 19:00", title: "Tempo Livre & Banho", icon: "game-controller", quote: "Desconecte para se reconectar.",
                  checklist: ["Jogar/Hobby", "Tomar banho"] },
                { time: "19:00 - 20:00", title: "Jantar e Estudo Leve", icon: "book-open", quote: "Sempre há algo novo para aprender.",
                  checklist: ["Jantar leve", "Leitura ou curso online"] },
                { time: "20:00 - 21:00", title: "Ritual Noturno", icon: "moon", quote: "O silêncio da noite prepara a mente.",
                  checklist: ["Higiene noturna", "Relaxar com música/diário", "Dormir até as 21:00"] },
            ]
        },
        thu: {
            dayName: "Quinta-feira",
            blocks: [
                { time: "07:00 - 08:00", title: "Ritual Matinal", icon: "sun-horizon", quote: "A disciplina é a liberdade de escolher seu futuro.",
                  checklist: ["Acordar e arrumar a cama", "Higiene pessoal", "Café da manhã nutritivo"] },
                { time: "08:00 - 12:00", title: "Aulas (Manhã)", icon: "student", quote: "Construa seu império de conhecimento.",
                  checklist: ["Foco total nas aulas", "Fazer anotações claras"] },
                { time: "12:00 - 14:00", title: "Almoço e Descanso", icon: "bowl-food", quote: "Seu corpo é seu templo.",
                  checklist: ["Almoçar", "Ouvir música", "Meditar por 10 min"] },
                { time: "14:00 - 15:00", title: "Aulas (Tarde)", icon: "student", quote: "Faça perguntas. Encontre respostas.",
                  checklist: ["Participar ativamente", "Tirar todas as dúvidas"] },
                { time: "15:00 - 16:30", title: "Lanche e Atividade Física", icon: "person-simple-bike", quote: "Fortaleça seu corpo e sua determinação.",
                  checklist: ["Lanche saudável", "Praticar Funcional ou Pilates"] },
                { time: "16:30 - 17:30", title: "Estudo Focado", icon: "books", quote: "A revisão solidifica o aprendizado.",
                  checklist: ["Revisar a matéria do dia anterior"] },
                { time: "17:30 - 19:00", title: "Tempo Livre & Banho", icon: "game-controller", quote: "O lazer é essencial para a criatividade.",
                  checklist: ["Jogar/Hobby", "Tomar banho"] },
                { time: "19:00 - 20:00", title: "Jantar e Estudo Leve", icon: "book-open", quote: "Aprenda algo fora da sua área.",
                  checklist: ["Jantar leve", "Leitura ou curso online"] },
                { time: "20:00 - 21:00", title: "Ritual Noturno", icon: "moon", quote: "Descanse. A batalha recomeça amanhã.",
                  checklist: ["Higiene noturna", "Relaxar com música/diário", "Dormir até as 21:00"] },
            ]
        },
        fri: {
            dayName: "Sexta-feira",
            blocks: [
                { time: "07:00 - 08:00", title: "Ritual Matinal", icon: "sun-horizon", quote: "Finalize a semana com força total.",
                  checklist: ["Acordar e arrumar a cama", "Higiene pessoal", "Café da manhã nutritivo"] },
                { time: "08:00 - 12:00", title: "Aulas (Manhã)", icon: "student", quote: "Absorva o máximo de conhecimento.",
                  checklist: ["Participar ativamente das aulas da manhã"] },
                { time: "12:00 - 14:00", title: "Almoço e Descanso", icon: "bowl-food", quote: "Energia para o último sprint da semana.",
                  checklist: ["Almoçar", "Ouvir música", "Meditar por 10 min"] },
                { time: "14:00 - 15:00", title: "Revisão Semanal", icon: "books", quote: "Consolide o que você aprendeu.",
                  checklist: ["Revisar os tópicos mais importantes da semana"] },
                { time: "15:00 - 16:30", title: "Atividade Livre", icon: "person-simple-walk", quote: "Celebre o fim da semana de trabalho.",
                  checklist: ["Caminhada longa", "Ouvir um podcast"] },
                { time: "16:30 - 19:00", title: "Sextou!", icon: "popcorn", quote: "O descanso merecido do guerreiro.",
                  checklist: ["Preparar para a noite", "Relaxar"] },
                { time: "19:00 em diante", title: "Noite Livre", icon: "users-three", quote: "Aproveite a liberdade.",
                  checklist: ["Sair com amigos, cinema, festa ou relaxar em casa"] },
            ]
        },
        sat: {
            dayName: "Sábado",
            blocks: [
                { time: "08:00 - 09:00", title: "Manhã Flexível", icon: "coffee", quote: "Um dia para recarregar, não para parar.",
                  checklist: ["Acordar mais tarde", "Café da manhã especial"] },
                { time: "09:00 - 12:00", title: "Organização e Hobbies", icon: "broom", quote: "Organize seu espaço, organize sua mente.",
                  checklist: ["Arrumar o quarto/armário", "Dedicar tempo a um hobby"] },
                { time: "12:00 - 14:00", title: "Almoço e Lazer", icon: "pizza", quote: "A vida também é feita de pequenos prazeres.",
                  checklist: ["Almoço especial", "Assistir um filme ou série"] },
                { time: "14:00 em diante", title: "Tarde Livre", icon: "person-simple-run", quote: "Faça o que te faz feliz.",
                  checklist: ["Atividade ao ar livre", "Tempo com amigos", "Jantar especial"] },
            ]
        },
        sun: {
            dayName: "Domingo",
            blocks: [
                { time: "Manhã", title: "Descanso e Família", icon: "leaf", quote: "Recupere as energias para uma nova semana.",
                  checklist: ["Acordar sem despertador", "Café da manhã longo em família", "Leitura leve ou hobby"] },
                { time: "Tarde", title: "Relaxamento e Preparação", icon: "calendar-check", quote: "Uma hora de planejamento pode economizar dez horas de execução.",
                  checklist: ["Almoço em família", "Descanso/soneca", "Caminhada leve"] },
                { time: "Noite", title: "Planejamento Mestre", icon: "strategy", quote: "Prepare o campo de batalha para a semana.",
                  checklist: ["Organizar a agenda e metas da semana", "Preparar roupas e materiais", "Jantar leve e relaxar", "Dormir cedo"] },
            ]
        }
    };

    const creators = [
        { id: 'gustavo', name: 'Gustavo Figueiredo', title: 'Diretor & Arquiteto Chefe', description: 'Quem teve a visão inicial e liderou o desenvolvimento técnico e conceitual.', image: 'https://files.sunoresearch.com.br/p/uploads/2018/09/Elon-Musk.jpg', isHighlighted: true, isAnimated: true, gridSpan: 'lg:col-span-2' },
        { id: 'pedro', name: 'Pedro Daniel', title: 'Diretor de Arte', description: 'Responsável pela identidade visual e pela experiência de interface do usuário.', image: 'https://media-for2-2.cdn.whatsapp.net/v/t61.24694-24/511274838_1004418351563380_27856796442524040_n.jpg?ccb=11-4&oh=01_Q5Aa1wGnFYsZNARbPLykVdJrposF9I-APMA36LQJKaObwnjuWA&oe=687B69F3&_nc_sid=5e03e0&_nc_cat=110', isHighlighted: true, isAnimated: false, gridSpan: 'lg:col-span-2' },
        { id: 'kaue', name: 'Kauê Pinheiro', title: 'Consultor de Estratégia', description: 'Ajudou a definir o fluxo e os principais recursos do projeto.', image: 'https://placehold.co/120x120/e2e8f0/0a0a0a?text=KP', isHighlighted: false, isAnimated: false, gridSpan: '' },
        { id: 'marley', name: 'Marley Bezerra', title: 'Analista de Crítica', description: 'Forneceu feedbacks cruciais para o refinamento e melhoria da ferramenta.', image: 'https://cdn.discordapp.com/attachments/1379885379494084702/1392561040566521917/b814de9e-8a6c-485f-9600-180a00a2a5dd.jpg?ex=686ffb08&is=686ea988&hm=a9d4c535e05b781b0e1f9e4e1741033ca30836b9ed456be98cae293a6e150a2b&', isHighlighted: false, isAnimated: false, gridSpan: '' },
        { id: 'jose', name: 'José Hailton', title: 'Curador de Ideias', description: 'Contribuiu com sugestões de funcionalidades e novos conceitos.', image: 'https://placehold.co/120x120/e2e8f0/0a0a0a?text=JH', isHighlighted: false, isAnimated: false, gridSpan: '' },
        { id: 'THIAGO', name: 'Thiago De Oliveira', title: 'Pesquisador de Conceitos', description: 'Pesquisa inicial sobre rotinas e produtividade', image: 'https://placehold.co/120x120/e2e8f0/0a0a0a?text=TO', isHighlighted: false, isAnimated: false, gridSpan: '' }
    ];

    const ui = {
        timeline: document.getElementById('timeline-container'),
        completion: document.getElementById('completion-section'),
        dayTabs: document.querySelectorAll('.day-tab'),
        progressBar: document.getElementById('progress-bar'),
        progressText: document.getElementById('progress-text'),
        modal: {
            overlay: document.getElementById('modal-overlay'),
            body: document.getElementById('modal-body'),
            closeBtn: document.getElementById('modal-close-button')
        },
        loader: document.getElementById('loader-overlay'),
        toast: {
            container: document.getElementById('toast-notification'),
            message: document.getElementById('toast-message')
        },
        buttons: {
            weeklyReport: document.getElementById('weekly-report-button'),
            openTools: document.getElementById('open-tools-button')
        },
        creatorsGrid: document.getElementById('creators-grid')
    };

    const config = {
        dayKeys: ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'],
        dayOrderForAdvancing: ['mon', 'tue', 'wed', 'thu', 'fri', 'sat', 'sun']
    };

    function openModal(content) {
        ui.modal.body.innerHTML = content;
        ui.modal.overlay.classList.add('visible');
    }

    function closeModal() {
        ui.modal.overlay.classList.remove('visible');
    }

    function showToast(message) {
        ui.toast.message.textContent = message;
        ui.toast.container.classList.add('show');
        setTimeout(() => {
            ui.toast.container.classList.remove('show');
        }, 4000);
    }

    function showToolsModal() {
        const toolsHTML = `
            <h2 class="text-3xl font-bold text-center mb-6">Painel de Medição</h2>
            <div class="border-b border-slate-700 flex justify-center">
                <button data-tool="water" class="tool-tab active">Hidratação</button>
                <button data-tool="imc" class="tool-tab">IMC</button>
            </div>
            <div class="mt-6">
                <div id="tool-water" class="tool-content active">
                    <div class="calculator-card">
                        <h4 class="text-xl font-semibold mb-4 text-center">Hidratação Diária</h4>
                        <div class="space-y-4">
                            <div><label for="water-weight" class="block text-sm font-medium text-slate-400 mb-1">Seu peso (kg)</label><input type="number" id="water-weight" class="calculator-input" placeholder="Ex: 70"></div>
                            <div><label for="activity-level" class="block text-sm font-medium text-slate-400 mb-1">Nível de atividade</label><select id="activity-level" class="calculator-input"><option value="35">Sedentário</option><option value="40">Leve</option><option value="45">Moderado</option><option value="50">Intenso</option></select></div>
                            <button id="calculate-water" class="calculator-button">Calcular</button>
                            <div id="water-result" class="calculator-result text-center"><p class="text-slate-500">Insira seus dados.</p></div>
                        </div>
                    </div>
                </div>
                <div id="tool-imc" class="tool-content">
                    <div class="calculator-card">
                        <h4 class="text-xl font-semibold mb-4 text-center">Índice de Massa Corporal (IMC)</h4>
                        <div class="space-y-4">
                            <div><label for="imc-weight" class="block text-sm font-medium text-slate-400 mb-1">Seu peso (kg)</label><input type="number" id="imc-weight" class="calculator-input" placeholder="Ex: 70"></div>
                            <div><label for="imc-height" class="block text-sm font-medium text-slate-400 mb-1">Sua altura (cm)</label><input type="number" id="imc-height" class="calculator-input" placeholder="Ex: 175"></div>
                            <button id="calculate-imc" class="calculator-button">Calcular</button>
                            <div id="imc-result" class="calculator-result text-center"><p class="text-slate-500">Insira seus dados.</p></div>
                        </div>
                    </div>
                </div>
            </div>`;
        openModal(toolsHTML);
        
        const toolTabs = document.querySelectorAll('.tool-tab');
        toolTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                toolTabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                document.querySelectorAll('.tool-content').forEach(content => {
                    content.classList.toggle('active', content.id === `tool-${tab.dataset.tool}`);
                });
            });
        });

        document.getElementById('calculate-water').addEventListener('click', () => {
            const weight = parseFloat(document.getElementById('water-weight').value);
            const multiplier = parseFloat(document.getElementById('activity-level').value);
            const resultEl = document.getElementById('water-result');
            if (!weight || weight <= 0) {
                resultEl.innerHTML = `<p class="text-red-400">Insira um peso válido.</p>`;
                return;
            }
            const waterAmount = (weight * multiplier) / 1000;
            resultEl.innerHTML = `<p class="text-slate-300">Recomendação:</p><p class="text-2xl font-bold text-blue-400">${waterAmount.toFixed(2)} litros</p>`;
        });

        document.getElementById('calculate-imc').addEventListener('click', () => {
            const weight = parseFloat(document.getElementById('imc-weight').value);
            const height = parseFloat(document.getElementById('imc-height').value);
            const resultEl = document.getElementById('imc-result');
            if (!weight || !height || weight <= 0 || height <= 0) {
                resultEl.innerHTML = `<p class="text-red-400">Insira dados válidos.</p>`;
                return;
            }
            const imc = weight / ((height / 100) ** 2);
            let category = '', colorClass = '';
            if (imc < 18.5) { category = 'Abaixo do peso'; colorClass = 'text-yellow-400'; } 
            else if (imc < 24.9) { category = 'Peso normal'; colorClass = 'text-green-400'; } 
            else if (imc < 29.9) { category = 'Sobrepeso'; colorClass = 'text-yellow-400'; } 
            else { category = 'Obesidade'; colorClass = 'text-red-400'; }
            resultEl.innerHTML = `<p class="text-slate-300">Seu IMC:</p><p class="text-2xl font-bold ${colorClass}">${imc.toFixed(2)}</p><p class="text-sm font-semibold ${colorClass}">${category}</p>`;
        });
    }
    
    function renderDay(dayKey) {
        ui.timeline.classList.add('loading');
        setTimeout(() => {
            ui.timeline.innerHTML = weeklyRoutine[dayKey] ? weeklyRoutine[dayKey].blocks.map((block, index) => {
                const side = index % 2 === 0 ? 'left' : 'right';
                const checklistHTML = block.checklist.map((item, i) => `
                    <div class="checklist-item">
                        <input type="checkbox" id="task-${dayKey}-${index}-${i}" data-day="${dayKey}">
                        <label for="task-${dayKey}-${index}-${i}">${item}</label>
                    </div>`).join('');
                const arsenalHTML = (block.arsenal || []).map(item => `<a href="${item.url}" target="_blank" class="resource-link">${item.text}</a>`).join('');
                return `
                    <div class="timeline-item ${side}">
                        <div class="timeline-content">
                            <div class="accordion-header">
                                <div class="flex items-center gap-4">
                                    <i class="ph-bold ph-${block.icon} text-4xl ${block.color === 'blue' ? 'text-blue-400' : 'text-green-400'}"></i>
                                    <div><p class="text-sm text-slate-400">${block.time}</p><h3 class="text-xl font-bold">${block.title}</h3></div>
                                </div>
                                <i class="ph-bold ph-caret-right text-3xl chevron"></i>
                            </div>
                            <div class="accordion-body">
                                <div class="py-4">
                                    <h4 class="font-bold text-lg ${block.color === 'green' ? 'text-green-400' : 'text-blue-400'} mb-2">Checklist de Ação:</h4>
                                    <div class="checklist mb-4">${checklistHTML}</div>
                                    ${arsenalHTML ? `<h4 class="font-bold text-lg ${block.color === 'green' ? 'text-green-400' : 'text-blue-400'} mb-2">Arsenal:</h4><div>${arsenalHTML}</div>` : ''}
                                </div>
                                <blockquote class="quote mt-4">"${block.quote}"</blockquote><div class="h-8"></div>
                            </div>
                        </div>
                    </div>`;
            }).join('') : '<p class="text-center text-slate-400">Rotina não definida.</p>';

            ui.completion.innerHTML = weeklyRoutine[dayKey] ? `<button id="completion-button" data-day="${dayKey}">Marcar ${weeklyRoutine[dayKey].dayName} como Concluído</button>` : '';
            if (dayKey === 'sun') {
                const resetButton = document.createElement('button');
                resetButton.id = 'reset-week-button';
                resetButton.className = 'text-red-500 hover:text-red-400 font-semibold mt-4';
                resetButton.textContent = 'Resetar Semana';
                resetButton.addEventListener('click', resetWeek);
                ui.completion.appendChild(resetButton);
            }
            
            setupEventListeners(dayKey);
            loadIndividualDayState(dayKey);
            updateActiveTab();
            ui.timeline.classList.remove('loading');
        }, 300);
    }

    function setupEventListeners(dayKey) {
        document.querySelectorAll('.accordion-header').forEach(header => {
            header.addEventListener('click', () => {
                const accordionBody = header.nextElementSibling;
                header.classList.toggle('active');
                header.closest('.timeline-content').classList.toggle('active');
                accordionBody.style.maxHeight = header.classList.contains('active') ? accordionBody.scrollHeight + "px" : null;
            });
        });
        const completionButton = document.getElementById('completion-button');
        if (completionButton) completionButton.addEventListener('click', handleCompleteDay);
    }
    
    function handleCompleteDay(e) {
        const dayKey = e.target.dataset.day;
        ui.loader.classList.remove('hidden');
        ui.loader.classList.add('visible');
        setTimeout(() => { 
            ui.loader.classList.add('hidden');
            ui.loader.classList.remove('visible');
            let allTasksCompleted = Array.from(document.querySelectorAll(`#timeline-container input[type="checkbox"][data-day="${dayKey}"]`)).every(checkbox => checkbox.checked);
            if (allTasksCompleted) {
                finalizeDayCompletion(dayKey);
            } else {
                promptIncompleteDayConfirmation(dayKey);
            }
        }, 1500);
    }
    
    function promptIncompleteDayConfirmation(dayKey) {
        let modalHTML = `
            <h2 class="text-2xl font-bold mb-4 text-yellow-400">Tarefas Incompletas</h2>
            <p class="mb-6">Você não completou todas as tarefas. Tem certeza que deseja concluir o dia?</p>
            <div id="confirmation-buttons" class="flex justify-end gap-4">
                <button id="confirm-no" class="px-4 py-2 rounded-lg bg-slate-600 hover:bg-slate-500">Não</button>
                <button id="confirm-yes" class="px-4 py-2 rounded-lg bg-yellow-500 hover:bg-yellow-400 text-slate-900 font-bold">Sim</button>
            </div>`;
        openModal(modalHTML);
        document.getElementById('confirm-no').onclick = closeModal;
        document.getElementById('confirm-yes').onclick = () => promptForJustification(dayKey);
    }

    function promptForJustification(dayKey) {
        let modalHTML = `
            <h2 class="text-2xl font-bold mb-4">Justificativa</h2>
            <p class="mb-4">Adicione uma breve justificativa para concluir com tarefas pendentes.</p>
            <textarea id="justification-text" class="w-full bg-slate-800 p-2 rounded-lg" rows="3"></textarea>
            <div class="flex justify-end mt-4">
                <button id="save-justification" class="px-4 py-2 rounded-lg bg-green-500 hover:bg-green-400 text-white font-bold">Salvar e Concluir</button>
            </div>`;
        openModal(modalHTML);
        document.getElementById('save-justification').onclick = () => {
            const justification = document.getElementById('justification-text').value;
            finalizeDayCompletion(dayKey, justification);
            closeModal();
        };
    }

    function finalizeDayCompletion(dayKey, justification = null) {
        const state = getDayState(dayKey);
        state.isComplete = true;
        state.report = [];
        let totalTasks = 0, completedTasks = 0;
        weeklyRoutine[dayKey].blocks.forEach((block, blockIndex) => {
            block.checklist.forEach((taskText, taskIndex) => {
                totalTasks++;
                const checkbox = document.getElementById(`task-${dayKey}-${blockIndex}-${taskIndex}`);
                const isChecked = checkbox ? checkbox.checked : false;
                if(isChecked) completedTasks++;
                state.report.push({ text: taskText, completed: isChecked });
            });
        });
        state.completionRate = totalTasks > 0 ? Math.round((completedTasks / totalTasks) * 100) : 100;
        if (justification) state.justification = justification;
        localStorage.setItem(`plannerState-${dayKey}`, JSON.stringify(state));
        updateWeeklyProgress();
        showToast(`Dia "${weeklyRoutine[dayKey].dayName}" concluído!`);
        const currentIndex = config.dayOrderForAdvancing.indexOf(dayKey);
        const nextIndex = (currentIndex + 1) % config.dayOrderForAdvancing.length;
        setTimeout(() => renderDay(config.dayOrderForAdvancing[nextIndex]), 500);
    }

    function updateWeeklyProgress() {
        let completedDays = config.dayKeys.filter(day => getDayState(day).isComplete).length;
        const percentage = config.dayKeys.length > 0 ? Math.round((completedDays / config.dayKeys.length) * 100) : 0;
        ui.progressBar.style.width = `${percentage}%`;
        ui.progressText.textContent = `${percentage}%`;
    }

    function getDayState(dayKey) {
        return JSON.parse(localStorage.getItem(`plannerState-${dayKey}`)) || {};
    }

    function loadIndividualDayState(day) {
        const state = getDayState(day);
        if (state.isComplete) {
            const completionButton = document.getElementById('completion-button');
            if (completionButton) {
                completionButton.disabled = true;
                completionButton.textContent = 'Dia Concluído!';
            }
            document.querySelectorAll(`input[type="checkbox"][data-day="${day}"]`).forEach(cb => {
                cb.disabled = true;
                cb.parentElement.classList.add('opacity-60');
            });
        }
        if (state.report) {
            state.report.forEach((item, index) => {
                 const checkbox = document.querySelector(`[id^="task-${day}-"][id$="-${index}"]`);
                 if(checkbox) checkbox.checked = item.completed;
            });
        }
    }
    
    function showDailyReport(dayKey) {
        const state = getDayState(dayKey);
        const dayData = weeklyRoutine[dayKey];
        if (!state.isComplete) return;
        let reportHTML = `<h2 class="text-2xl font-bold mb-4">Relatório de ${dayData.dayName}</h2>`;
        reportHTML += `<p class="mb-4">Taxa de conclusão: <span class="font-bold text-lg ${state.completionRate === 100 ? 'text-green-400' : 'text-yellow-400'}">${state.completionRate}%</span></p>`;
        if (state.justification) {
            reportHTML += `<div class="mb-4 p-3 bg-slate-700 rounded-lg"><strong>Justificativa:</strong> ${state.justification}</div>`;
        }
        state.report.forEach(item => {
            const icon = item.completed ? 'ph-check-circle' : 'ph-x-circle';
            reportHTML += `<div class="report-item"><i class="ph-fill ${icon}"></i> <span>${item.text}</span></div>`;
        });
        openModal(reportHTML);
    }
    
    function showWeeklyReport() {
        let reportHTML = `<h2 class="text-2xl font-bold mb-4">Relatório Semanal</h2>`;
        let totalCompletedDays = 0;
        config.dayKeys.forEach(dayKey => {
            const state = getDayState(dayKey);
            const dayData = weeklyRoutine[dayKey];
            if (state.isComplete) {
                totalCompletedDays++;
                reportHTML += `<div class="p-3 border-b border-slate-700"><strong>${dayData.dayName}:</strong> Concluído (<span class="${state.completionRate === 100 ? 'text-green-400' : 'text-yellow-400'}">${state.completionRate}%</span>)${state.justification ? `<br><small class="text-slate-400"><em>Justificativa: ${state.justification}</em></small>` : ''}</div>`;
            } else {
                reportHTML += `<div class="p-3 border-b border-slate-700"><strong>${dayData.dayName}:</strong> Não concluído</div>`;
            }
        });
        const weeklyRate = config.dayKeys.length > 0 ? Math.round((totalCompletedDays / config.dayKeys.length) * 100) : 0;
        reportHTML = `<p class="mb-4">Você concluiu <span class="font-bold text-xl text-green-400">${totalCompletedDays} de ${config.dayKeys.length}</span> dias nesta semana. (${weeklyRate}%)</p>` + reportHTML;
        openModal(reportHTML);
    }
    
    function resetWeek() {
        openModal(`
            <h2 class="text-2xl font-bold mb-4 text-red-500">Resetar Semana</h2>
            <p class="mb-6">Você tem certeza que deseja apagar todo o progresso da semana? Esta ação não pode ser desfeita.</p>
            <div class="flex justify-end gap-4">
                <button id="reset-no" class="px-4 py-2 rounded-lg bg-slate-600 hover:bg-slate-500">Cancelar</button>
                <button id="reset-yes" class="px-4 py-2 rounded-lg bg-red-600 hover:bg-red-500 text-white font-bold">Sim, Resetar</button>
            </div>`);
        document.getElementById('reset-no').onclick = closeModal;
        document.getElementById('reset-yes').onclick = () => {
            config.dayKeys.forEach(dayKey => localStorage.removeItem(`plannerState-${dayKey}`));
            location.reload();
        };
    }

    function updateActiveTab() {
        const currentDayKey = document.querySelector('#completion-button')?.dataset.day;
        ui.dayTabs.forEach(tab => {
            const dayKey = tab.dataset.day;
            tab.classList.toggle('active', dayKey === currentDayKey);
            
            const reportIcon = tab.querySelector('.report-icon');
            if (reportIcon) reportIcon.remove();
            
            const state = getDayState(dayKey);
            if (state.isComplete) {
                const icon = document.createElement('i');
                icon.className = 'ph-fill ph-file-text report-icon';
                icon.onclick = (e) => { e.stopPropagation(); showDailyReport(dayKey); };
                tab.querySelector('span').insertAdjacentElement('afterend', icon);
            }
        });
    }

    function renderCreators() {
        ui.creatorsGrid.innerHTML = creators.map(creator => `
            <div class="creator-card ${creator.gridSpan || ''}" data-creator-id="${creator.id}">
                <div class="creator-image-wrapper ${creator.isAnimated ? 'animated-border' : ''}">
                    <img src="${creator.image}" alt="Foto de ${creator.name}">
                </div>
                <h4 class="${creator.isHighlighted ? 'highlighted-name' : 'text-xl font-bold'} mb-1">${creator.name}</h4>
                <p class="text-slate-400 font-semibold">${creator.title}</p>
            </div>
        `).join('');

        document.querySelectorAll('.creator-card').forEach(card => {
            card.addEventListener('click', () => {
                const creator = creators.find(c => c.id === card.dataset.creatorId);
                if (!creator) return;
                const modalHTML = `
                    <div class="text-center p-4">
                        <div class="creator-image-wrapper mx-auto ${creator.isAnimated ? 'animated-border' : ''}">
                            <img src="${creator.image}" alt="Foto de ${creator.name}" class="w-full h-full rounded-full border-4 border-slate-600">
                        </div>
                        <h3 class="text-3xl font-bold mt-4 ${creator.isHighlighted ? 'highlighted-name' : ''}">${creator.name}</h3>
                        <p class="text-xl text-slate-400 font-semibold mt-1">${creator.title}</p>
                        <p class="mt-4 text-slate-300 max-w-lg mx-auto">${creator.description}</p>
                    </div>
                `;
                openModal(modalHTML);
            });
        });
    }

    ui.dayTabs.forEach(tab => tab.addEventListener('click', () => renderDay(tab.dataset.day)));
    ui.modal.closeBtn.addEventListener('click', closeModal);
    ui.modal.overlay.addEventListener('click', (e) => { if(e.target === ui.modal.overlay) closeModal(); });
    ui.buttons.weeklyReport.addEventListener('click', showWeeklyReport);
    ui.buttons.openTools.addEventListener('click', showToolsModal);
    
    renderCreators();
    renderDay('sun');
    updateWeeklyProgress();
    </script>

</body>
</html>